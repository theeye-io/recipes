{"task":{"enable":true,"type":"script","public":false,"tags":[],"grace_time":0,"task_arguments":[],"output_parameters":[],"register_body":false,"execution_count":8,"multitasking":true,"user_inputs":false,"user_inputs_members":[],"show_result":false,"script_arguments":[],"_type":"ScriptTask","creation_date":"2020-05-22T02:57:27.546Z","last_update":"2020-05-22T03:30:11.144Z","name":"Obtener Valor de venta del dolar en Banco nacion","description":"","timeout":600000,"script_runas":"\"c:\\Program Files\\nodejs\\node.exe\" %script%","template":null,"template_id":null,"source_model_id":"5ec73f97b9f13e00129a05b6","env":{},"script_id":"5ec73f8fb9f13e00129a05b1"},"file":{"filename":"BNA_getDolarValue.js","keyname":"BNA_getDolarValue.js[ts:1590117767187]","size":4829,"description":"","md5":"86b81fc7ada1f05c6dd5058cbc6947cd","public":false,"tags":[],"source_model_id":"5ec73f8fb9f13e00129a05b1","data":"IyEvdXNyL2Jpbi9ub2RlCgoKY29uc3QgcHVwcGV0ZWVyID0gcmVxdWlyZSgnQzpcXHRoZWV5ZS1hZ2VudFxcZG93bmxvYWRzXFxub2RlX21vZHVsZXNcXHB1cHBldGVlcicpCmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKQpjb25zdCByZXRyeSA9IHJlcXVpcmUoJ0M6XFx0aGVleWUtYWdlbnRcXGRvd25sb2Fkc1xcbm9kZV9tb2R1bGVzXFxhc3luYy1yZXRyeScpCmNvbnN0IGRhdGVPYmogPSBuZXcgRGF0ZSgpCmNvbnN0IGFjdHVhbE1vbnRoID0gZGF0ZU9iai5nZXRVVENNb250aCgpICsgMQpjb25zdCBhY3R1YWxEYXkgPSBkYXRlT2JqLmdldFVUQ0RhdGUoKSAKY29uc3QgYWN0dWFsWWVhciA9IGRhdGVPYmouZ2V0VVRDRnVsbFllYXIoKQpjb25zdCBhY3R1YWxIb3VyID0gZGF0ZU9iai5nZXRVVENIb3VycygpCmNvbnN0IGFjdHVhbE1pbnV0ZSA9IGRhdGVPYmouZ2V0VVRDTWludXRlcygpCmNvbnN0IGFjdHVhbFNlY29uZHMgPSBkYXRlT2JqLmdldFVUQ1NlY29uZHMoKQpjb25zdCBVUkxfQk5BID0gJ2h0dHBzOi8vd3d3LmJuYS5jb20uYXIvUGVyc29uYXMnCmNvbnN0IERhdGVOb3cgPSAnIEhvcmE6JythY3R1YWxIb3VyKyc6JythY3R1YWxNaW51dGUrJzonK2FjdHVhbFNlY29uZHMKY29uc3QgZGlhX2VqZWN1Y2lvbj0gYWN0dWFsRGF5KyctJythY3R1YWxNb250aCsnLScrYWN0dWFsWWVhcgoKCgpjb25zdCBkYXRhT3V0cHV0ID0gYXN5bmMgKCkgPT4gewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IGZlY2hhID0gYXdhaXQgcGFnZS4kZXZhbCgnI2RpdmlzYXMgPiB0YWJsZSA+IHRoZWFkID4gdHIgPiB0aC5mZWNoYUNvdCcsIGU9PiBlLmlubmVyVGV4dCkKICAgICAgICAgICAgbGV0IGRvbGFyVmVudGFGcm9tQmlsbGV0ZXMgPSBhd2FpdCBwYWdlLiRldmFsKCcjYmlsbGV0ZXMgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDEpID4gdGQ6bnRoLWNoaWxkKDMpJywgZSA9PiBlLmlubmVyVGV4dCkKICAgICAgICAgICAgY29uc3QgbW9uZWRhID0gJyBEb2xhciBVU0EnCiAgICAgICAgICAgIGF3YWl0IHBhZ2UuY2xpY2soJyNyaWdodEhvbWUgPiBkaXYuY29sLW1kLTMgPiBkaXYgPiB1bCA+IGxpOm50aC1jaGlsZCgyKSA+IGEnKQogICAgICAgICAgICBhd2FpdCBwYWdlLndhaXRGb3JTZWxlY3RvcignI2RpdmlzYXMgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDEpJykKCiAgICAgICAgICAgIGxldCBkb2xhckNvdGl6YWNpb25EaXZpc2FzID0gYXdhaXQgcGFnZS4kZXZhbCgnI2RpdmlzYXMgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDEpID4gdGQ6bnRoLWNoaWxkKDMpJywgZSA9PiBlLmlubmVyVGV4dCkKCiAgICAgICAgICAgIGNvbnN0IEpTT05EYXRhID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgIkNvdGl6YWNpb24gQmlsbGV0ZXMiOiB7InByZWNpb1ZlbnRhIjpkb2xhclZlbnRhRnJvbUJpbGxldGVzK21vbmVkYX0sCiAgICAgICAgICAgICAgICAiQ290aXphY2lvbiBEaXZpc2FzIjogeyJwcmVjaW9WZW50YSI6ZG9sYXJDb3RpemFjaW9uRGl2aXNhcyttb25lZGF9LAogICAgICAgICAgICAgICAgInRpbWVzdGFtcCI6IHsiRmVjaGEiOmZlY2hhICsgRGF0ZU5vd30KICAgICAgICAgICAgfSkKCiAgICAgICAgICAgIGZzLndyaXRlRmlsZVN5bmMoJ0JuYUV4dHJhY2Npb25Eb2xhclZlbnRhJytkaWFfZWplY3VjaW9uKycuanNvbicsIEpTT05EYXRhLCd1dGY4JykKICAgICAgICAgICAgY29uc3QgcmVzdWx0YWRvX2V4dHJhaWRvID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgICJNb25lZGEiOiAiRG9sYXIgVXNhIiwKICAgICAgICAgICAgICAgICAgICAiRG9sYXIgZGUgdmVudGEgKEJpbGxldGVzKSI6IGRvbGFyVmVudGFGcm9tQmlsbGV0ZXMsCiAgICAgICAgICAgICAgICAgICAgIkRvbGFyIGRlIHZlbnRhIChDb3RpemFjaW9uKSI6ZG9sYXJDb3RpemFjaW9uRGl2aXNhcywKICAgICAgICAgICAgICAgICAgICAiRmVjaGEiOiBmZWNoYQogICAgICAgICAgICB9KQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHRhZG9fZXh0cmFpZG8pCiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSkKICAgICAgICAgICAgbG9nU3VjY2Vzc0FuZEV4aXQoKQogICAgICAgICAgCWJyb3dzZXIuY2xvc2UoKQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgIHJlamVjdChlcnIpCiAgICAgICAgfQogICAgfSkKfQogCgpjb25zdCBwcm9jZXNzRGF0YVJlcXVlc3QgPSBhc3luYyAoKSA9PiB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGF3YWl0IHBhZ2Uud2FpdEZvclNlbGVjdG9yKCdkaXYudGFiU21hbGwnKQogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYXRhT3V0cHV0KCkKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCkKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIubWVzc2FnZSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWNhdGNoKGVycil7CiAgICAgICAgICAgIC8vYnJvd3Nlci5jbG9zZSgpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiTm8gc2UgZW5jb250cm8gZWwgc2VsZWN0b3IiKQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgICAgICAgbG9nRXJyb3JBbmRFeGl0KHRydWUpCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgCiAgICB9KQp9Cgpjb25zdCBwcmVwYXJlUGFnZSA9IGFzeW5jICgpID0+IHsKICAgIGJyb3dzZXIgPSBhd2FpdCBwdXBwZXRlZXIubGF1bmNoKHsKICAgICAgICAgaGVhZGxlc3M6IHRydWUsCiAgICAgICAgLy9oZWFkbGVzczogdHJ1ZSwKICAgICAgICBhcmdzOiBbCiAgICAgICAgICAgICctLW5vLXNhbmRib3gnLAogICAgICAgICAgICAnLS1kaXNhYmxlLWZlYXR1cmVzPXNpdGUtcGVyLXByb2Nlc3MnLAogICAgICAgICAgICAnLS1kaXNhYmxlLWdwdScsCiAgICAgICAgICAgICctLXdpbmRvdy1zaXplPTE5MjB4MTA4MCcsCiAgICAgICAgXQogICAgfSkKICAgIHZpZXdQb3J0ID0gewogICAgICAgIHdpZHRoOiAxMzAwLAogICAgICAgIGhlaWdodDogOTAwCiAgICB9CgoKICAgIHBhZ2UgPSBhd2FpdCBicm93c2VyLm5ld1BhZ2UoKQogICAgYXdhaXQgcGFnZS5zZXRVc2VyQWdlbnQoJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83Mi4wLjM2MjYuMTA5IFNhZmFyaS81MzcuMzYnKTsKICAgIGF3YWl0IHBhZ2Uuc2V0Vmlld3BvcnQodmlld1BvcnQpCiAgICBhd2FpdCBwYWdlLnNldERlZmF1bHROYXZpZ2F0aW9uVGltZW91dCgyMDAwMCkKICAgIGF3YWl0IHBhZ2Uuc2V0RGVmYXVsdFRpbWVvdXQoMjAwMDApCgogICAgYXdhaXQgcGFnZS5nb3RvKFVSTF9CTkEsIHsKICAgICAgICB3YWl0VW50aWw6ICduZXR3b3JraWRsZTAnCiAgICB9KQoKfQoKY29uc3QgcnVuID0gYXN5bmMgKCkgPT4gewogICAgLy8gcHJlcGFybyBlbCBuYXZlZ2Fkb3IgZSBpbmdyZXNvIGFsIHNpc3RlbWEKICAgIGF3YWl0IHJldHJ5KGFzeW5jIGJhaWwgPT4gewogICAgICAgIC8vIGlmIGFueXRoaW5nIHRocm93cywgd2UgcmV0cnkKICAgICAgICBhd2FpdCBwcmVwYXJlUGFnZSgpCiAgICB9LCB7CiAgICAgICAgcmV0cmllczogNSwKICAgICAgICBvblJldHJ5OiBhc3luYyBlcnIgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXRyeWluZy4uLicpCiAgICAgICAgICAgIGF3YWl0IHBhZ2UuY2xvc2UoKQogICAgICAgICAgICBhd2FpdCBicm93c2VyLmNsb3NlKCkKICAgICAgICB9CiAgICB9KQoKICAgIHRyeSB7CiAgICAgICAgY29uc29sZS5sb2coJ3ByaW1lciB0cnkuLi4nKQogICAgICAgIGNvbnN0IHByb2Nlc3NSZXN1bHQgPSBhd2FpdCBwcm9jZXNzRGF0YVJlcXVlc3QoKQogICAgICAgIGxvZ1N1Y2Nlc3NBbmRFeGl0KHByb2Nlc3NSZXN1bHQpCiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycikKICAgIH0KfQoKY29uc3QgbG9nRXJyb3JBbmRFeGl0ID0gYXN5bmMgZXJyb3IgPT4gewogICAgLy9jb25zdCByZXN1bHRDaGFuZ2VTdGF0dXMgPSBhd2FpdCB1cGRhdGVKb2JSZXN1bHQocHJvY2Vzc1BhcmFtcy5qb2JfaWQsICdlcnJvcicsIG51bGwsIGVycm9yKQogICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoewogICAgICAgIHN0YXRlOiAnZmFpbHVyZScsCiAgICB9KSkKCiAgICBwcm9jZXNzLmV4aXQoKQp9Cgpjb25zdCBsb2dTdWNjZXNzQW5kRXhpdCA9IGFzeW5jIHJlc3VsdERhdGEgPT4gewogICAgLy9jb25zdCByZXN1bHRDaGFuZ2VTdGF0dXMgPSBhd2FpdCB1cGRhdGVKb2JSZXN1bHQocHJvY2Vzc1BhcmFtcy5qb2JfaWQsICdmaW5pc2hlZCcsIHJlc3VsdERhdGEsIG51bGwpCiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgc3RhdGU6ICdub3JtYWwnCiAgICB9KSkKCiAgICBwcm9jZXNzLmV4aXQoKQp9CnJ1bigpLmNhdGNoKGxvZ0Vycm9yQW5kRXhpdCk="}}